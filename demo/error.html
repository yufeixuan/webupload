<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8" />
    <title>error</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="webupload.css">
</head>

<body>
    <div class="main">
        <h1>Upload Your Images</h1>
        <div id="upload" class="upload">选择图片</div>
        <button id="btn">上传</button>
        <div id="error" style="color:red;"></div>
    </div>

    <script src="build/webupload.js"></script>
    <script>
    //错误处理
    var btn = document.getElementById("btn");
    var demo = new Webupload({
        //触发上传的元素
        el: "upload",
        //上传地址
        url: "/api/upload",
        auto: false,
        maxSize:1000,
        //选择文件按钮发生change时（可选）
        change:function(){
            document.getElementById("error").innerHTML="";
        },
        //错误处理消息（可选）
        error:function(msg){
            document.getElementById("error").innerHTML=msg;
        }
    });

    btn.onclick = function(){
        demo.upload();
    }
    </script>
</body>

</html>