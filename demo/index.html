<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8" />
    <title>upload</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="webupload.css">
</head>

<body>
    <div class="main">
        <h1>Upload Your Images</h1>
<!--         <form action="/api/upload" method="post" enctype="multipart/form-data" style="display:none;">
            <p>
                multiple ie 10+
                <input type="file" name="images" multiple="multiple">
            </p>
            <input type="submit" value="上传">
        </form> -->
        <div id="upload" class="upload">上传</div>
        <!-- <button>上传</button> -->
    </div>

    <script src="build/webupload.js"></script>
    <script>
    var demo = new Webupload({
        //触发上传的元素
        el: "upload",
        //上传地址
        url: "/api/upload",
        //自定义数据（例如token,可选）
        data: {
            token: Date.now().toString(16)
        },
        //限制上传个数（可选，默认最多上传9个文件）
        limit: 2,
        //限制上传类型（可选）
        ext: ["png","jpg"],
        //选择文件后自动上传（可选）
        auto: true,
        //单个文件装载完成（可选）
        loadend: function(source, file) {
            //console.log(source)
            console.log(file)
        },
        //文件上传成功触发（可选）
        success:function(i,len){
            console.log("成功"+(i/len*100).toFixed(0)+'%');
        },
        //所有文件上传成功触发（可选）
        finish:function(){
            console.log("over")
        },
        //错误处理消息（可选）
        error:function(msg){
            console.log(msg);
        }
    });
    </script>
</body>

</html>